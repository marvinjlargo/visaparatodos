<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Visa Para Todos</title>
<style>
 body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
 h1 { font-size: 26px; }
 button { padding: 12px 18px; font-size: 16px; margin-top: 12px; cursor: pointer; }
 .hidden { display: none; }
 .section { margin-top: 20px; }
 textarea { width: 100%; height: 160px; margin-top: 10px; font-size: 15px; }
</style>
</head>
<body>
<h1>VISA PARA TODOS</h1>
<p>Asesoría sencilla, rápida y por WhatsApp.</p>

<div class="section">
<label><input type="checkbox" id="habeas" /> Acepto que la información que escriba será enviada por WhatsApp y no se almacena en esta página.</label>
<br>
<button id="btnHabeas">Continuar</button>
</div>

<div id="formSection" class="hidden section">
<h3>Formulario rápido</h3>

<label>Tipo de visa:</label><br>
<select id="visa">
  <option value="Estados Unidos">Visa Estados Unidos</option>
  <option value="Canadá">Visa Canadá</option>
  <option value="Inglaterra (UK)">Visa Inglaterra (UK)</option>
  <option value="Australia">Visa Australia</option>
  <option value="Europa (trabajo/pareja/estudio)">Visa Europa (trabajo/pareja/estudio)</option>
</select><br><br>

<label>¿Viajarás con acompañantes?</label><br>
<select id="acompanantes">
  <option value="No">No</option>
  <option value="Sí">Sí</option>
</select><br><br>

<div id="numAcompanantesSection" class="hidden">
<label>Número de acompañantes:</label><br>
<select id="numAcompanantes">
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4+">4+</option>
</select><br><br>
</div>

<label>Propósito del viaje:</label><br>
<select id="proposito">
  <option value="Turismo">Turismo</option>
  <option value="Visitar familia">Visitar familia</option>
  <option value="Trabajo temporal">Trabajo temporal</option>
  <option value="Estudiante">Estudiante</option>
  <option value="Reagrupación familiar">Reagrupación familiar</option>
  <option value="Esposo/Esposa/Pareja">Esposo / Esposa / Pareja</option>
  <option value="Au Pair">Au Pair</option>
  <option value="Nómada digital">Nómada digital</option>
  <option value="Otro">Otro</option>
</select><br><br>

<div id="paisSection" class="hidden">
<label>País destino (Europa):</label><br>
<select id="pais">
  <option value="España">España</option>
  <option value="Francia">Francia</option>
  <option value="Italia">Italia</option>
  <option value="Alemania">Alemania</option>
  <option value="Portugal">Portugal</option>
  <option value="Países Bajos">Países Bajos</option>
  <option value="Otro">Otro</option>
</select><br><br>
</div>

<label>Fecha estimada de viaje (mes/año):</label><br>
<input type="text" id="fecha" placeholder="Ej: Abril 2026"><br><br>

<button id="btnGenerar">Generar mensaje</button>
</div>

<div id="mensajeSection" class="hidden section">
<h3>Tu mensaje</h3>
<textarea id="mensaje" readonly></textarea>

<p><strong>¿Es todo lo anterior correcto?</strong></p>
<button id="btnCopiar">Sí, está correcto</button>
<button id="btnEditar">No, quiero corregir</button>

<p id="copiadoMsg" class="hidden" style="color:green; font-weight:bold;">Mensaje copiado ✔️ Ahora abre tu WhatsApp y pégalo.</p>

<a id="whatsLink" class="hidden" href="#" target="_blank">
<button>Abrir WhatsApp</button>
</a>
</div>

<script>
const habeas = document.getElementById('habeas');
const btnHabeas = document.getElementById('btnHabeas');
const formSection = document.getElementById('formSection');
const acomp = document.getElementById('acompanantes');
const numAcompanantesSection = document.getElementById('numAcompanantesSection');
const visa = document.getElementById('visa');
const paisSection = document.getElementById('paisSection');
const btnGenerar = document.getElementById('btnGenerar');
const mensajeSection = document.getElementById('mensajeSection');
const mensaje = document.getElementById('mensaje');
const btnCopiar = document.getElementById('btnCopiar');
const btnEditar = document.getElementById('btnEditar');
const copiadoMsg = document.getElementById('copiadoMsg');
const whatsLink = document.getElementById('whatsLink');

btnHabeas.onclick = () => {
 if (!habeas.checked) return alert("Debes aceptar el Habeas Data.");
 formSection.classList.remove('hidden');
};

acompanantes.onchange = () => {
 numAcompanantesSection.classList.toggle('hidden', acomp.value === 'No');
};

visa.onchange = () => {
 paisSection.classList.toggle('hidden', visa.value !== 'Europa (trabajo/pareja/estudio)');
};

btnGenerar.onclick = () => {
 let text = `Hola, Visa Para Todos.%0A%0A`;
 text += `- Tipo de visa: ${visa.value}%0A`;
 text += `- Propósito del viaje: ${proposito.value}%0A`;
 if (visa.value.includes('Europa')) text += `- País destino: ${pais.value}%0A`;
 text += `- Acompañantes: ${acompanantes.value}%0A`;
 if (acompanantes.value === 'Sí') text += `  - Número de acompañantes: ${numAcompanantes.value}%0A`;
 text += `- Fecha estimada: ${fecha.value}%0A%0A`;
 text += `Quedo atento(a) para que me indiques los documentos que necesito.`;

 mensaje.value = decodeURIComponent(text.replace(/%0A/g, "\n"));
 mensajeSection.classList.remove('hidden');
 window.scrollTo(0, document.body.scrollHeight);
};

btnCopiar.onclick = async () => {
 await navigator.clipboard.writeText(mensaje.value);
 copiadoMsg.classList.remove('hidden');
 whatsLink.href = `https://wa.me/573001234567`; // REEMPLAZAR CON TU NÚMERO
 whatsLink.classList.remove('hidden');
};

btnEditar.onclick = () => {
 mensajeSection.classList.add('hidden');
 copiadoMsg.classList.add('hidden');
};
</script>
</body>
</html>